{"ast":null,"code":"import _defineProperty from\"/Users/ktalbott/Desktop/booksbooks/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/ktalbott/Desktop/booksbooks/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ktalbott/Desktop/booksbooks/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ktalbott/Desktop/booksbooks/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ktalbott/Desktop/booksbooks/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import API from\"../utils/API\";import Card from\"../components/Card\";import SearchForm from\"../components/SearchForm\";import SearchResults from\"../components/SearchResults\";import JumboTron from\"../components/JumboTron\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Books=/*#__PURE__*/function(_Component){_inherits(Books,_Component);var _super=_createSuper(Books);function Books(){var _this;_classCallCheck(this,Books);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={result:{},search:\"\",results:[],image:\"\"};_this.searchBooks=function(query){API.search(query).then(function(res){//sets the array of results to state\n_this.setState({results:res.data.items});//sets the first result object to state\n_this.setState({result:res.data.items[0].volumeInfo});_this.setState({image:res.data.items[0].volumeInfo.imageLinks.thumbnail});_this.setState({search:\"\"});}).catch(function(err){return console.log(err);});};_this.handleInputChange=function(event){var value=event.target.value;var name=event.target.name;_this.setState(_defineProperty({},name,value));};_this.handleFormSubmit=function(event){event.preventDefault();_this.searchBooks(_this.state.search);};_this.handleBookSave=function(book){API.saveBook({title:book.volumeInfo.title,authors:book.volumeInfo.authors.join(\", \"),description:book.volumeInfo.description,image:book.volumeInfo.imageLinks.smallThumbnail,link:book.volumeInfo.infoLink}).catch(function(err){return console.log(err);});};return _this;}_createClass(Books,[{key:\"componentDidMount\",value://Sets the default search upon page load\nfunction componentDidMount(){this.searchBooks(\"Harry Potter\");}//a function to run a search of the API based on customer input\n},{key:\"render\",value://\nfunction render(){var searchResults=this.state.results;var jumboImage=this.state.image;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Card,{heading:\"Search for a Book\",children:/*#__PURE__*/_jsx(SearchForm,{value:this.state.search,handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit})}),/*#__PURE__*/_jsx(JumboTron,{heading:this.state.result.title,jumboImage:jumboImage,author:this.state.result.authors}),/*#__PURE__*/_jsx(SearchResults,{searchResults:searchResults,handleBookSave:this.handleBookSave})]});}}]);return Books;}(Component);export default Books;","map":{"version":3,"sources":["/Users/ktalbott/Desktop/booksbooks/src/pages/Books.js"],"names":["React","Component","API","Card","SearchForm","SearchResults","JumboTron","Books","state","result","search","results","image","searchBooks","query","then","res","setState","data","items","volumeInfo","imageLinks","thumbnail","catch","err","console","log","handleInputChange","event","value","target","name","handleFormSubmit","preventDefault","handleBookSave","book","saveBook","title","authors","join","description","smallThumbnail","link","infoLink","searchResults","jumboImage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport Card from \"../components/Card\";\nimport SearchForm from \"../components/SearchForm\";\nimport SearchResults from \"../components/SearchResults\";\nimport JumboTron from \"../components/JumboTron\";\n\nclass Books extends Component {\n  state = {\n    result: {},\n    search: \"\",\n    results: [],\n    image: \"\"\n  };\n\n  //Sets the default search upon page load\n  componentDidMount() {\n    this.searchBooks(\"Harry Potter\");\n  }\n\n  //a function to run a search of the API based on customer input\n  searchBooks = (query) => {\n    API.search(query)\n      .then((res) => {\n        //sets the array of results to state\n        this.setState({ results: res.data.items });\n        //sets the first result object to state\n        this.setState({ result: res.data.items[0].volumeInfo });\n        \n        this.setState({ image: res.data.items[0].volumeInfo.imageLinks.thumbnail})\n        this.setState({search: \"\"})\n      }).catch((err) => console.log(err));\n  };\n\n  //\n  handleInputChange = (event) => {\n    const value = event.target.value;\n    const name = event.target.name;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    this.searchBooks(this.state.search);\n  };\n\n  handleBookSave = (book) => {\n    \n    API.saveBook({\n      title: book.volumeInfo.title,\n      authors: book.volumeInfo.authors.join(\", \"),\n      description: book.volumeInfo.description,\n      image: book.volumeInfo.imageLinks.smallThumbnail,\n      link: book.volumeInfo.infoLink,\n    }).catch((err) => console.log(err));\n  };\n  //\n\n  render() {\n    \n    const searchResults = this.state.results;\n    \n    const jumboImage = this.state.image;\n    \n    return (\n\n      <div className=\"container\">\n        <Card heading=\"Search for a Book\">\n          <SearchForm\n            value={this.state.search}\n            handleInputChange={this.handleInputChange}\n            handleFormSubmit={this.handleFormSubmit}\n          />\n        </Card>\n        <JumboTron heading={this.state.result.title} jumboImage={jumboImage} author={this.state.result.authors}></JumboTron>\n        <SearchResults searchResults={searchResults} handleBookSave={this.handleBookSave}/>\n      </div>\n    );\n  }\n}\n\nexport default Books;"]},"metadata":{},"sourceType":"module"}