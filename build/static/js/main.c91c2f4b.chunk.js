(this.webpackJsonpbooksbooks=this.webpackJsonpbooksbooks||[]).push([[0],{35:function(e,t,s){},63:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(27),c=s.n(n),o=s(29),i=s(2),r=(s(35),s(28)),l=s(9),h=s(10),d=s(12),j=s(11),b=s(13),u=s.n(b),m=function(e){return u.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},O=function(e){return u.a.post("/api/books",e)},v=function(e){return u.a.delete("/api/books/"+e)},x=s(0);var f=function(e){return Object(x.jsxs)("div",{className:"card text-center",children:[Object(x.jsx)("div",{className:"card-header",children:Object(x.jsx)("h2",{children:e.heading})}),Object(x.jsx)("div",{className:"card-body",children:e.children})]})};var p=function(e){return Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"search"}),Object(x.jsx)("input",{onChange:e.handleInputChange,value:e.value,name:"search",type:"text",className:"form-control book-input",placeholder:"Enter a book title to search for on Google Books",id:"search"}),Object(x.jsx)("button",{onClick:e.handleFormSubmit,className:"btn btn-info search-btn",children:"Search"})]})})};var k=function(e){return Object(x.jsx)("div",{className:"table-div",children:Object(x.jsxs)("table",{className:"table",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",className:"hide",children:"Cover"}),Object(x.jsx)("th",{scope:"col",className:"hide",children:"Title"}),Object(x.jsx)("th",{scope:"col",className:"hide",children:"Author(s)"}),Object(x.jsx)("th",{scope:"col",className:"hide",children:"Description"}),Object(x.jsx)("th",{scope:"col",className:"hide",children:"Year"}),Object(x.jsx)("th",{scope:"col",className:"hide",children:"#Pages"})]})}),Object(x.jsx)("tbody",{children:e.searchResults.map((function(t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"td",children:Object(x.jsx)("img",{className:"cover",src:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.smallThumbnail:"http://placekitten.com/125/200",alt:t.volumeInfo.title})}),Object(x.jsx)("td",{className:"hide",children:t.volumeInfo.title}),Object(x.jsx)("td",{className:"hide",children:t.volumeInfo.authors?t.volumeInfo.authors.join(", "):"N/A"}),Object(x.jsx)("td",{className:"description hide",children:Object(x.jsx)("div",{className:"tableData",children:t.volumeInfo.description})}),Object(x.jsx)("td",{className:"hide",children:t.volumeInfo.publishedDate?t.volumeInfo.publishedDate.slice(0,4):"N/A"}),Object(x.jsx)("td",{className:"hide",children:t.volumeInfo.pageCount}),Object(x.jsxs)("td",{className:"td",children:[Object(x.jsx)("a",{href:t.volumeInfo.infoLink,target:"_blank",rel:"noopener noreferrer",className:"btn btn-success list-button",children:"View in Google Books"}),Object(x.jsx)("button",{onClick:function(){return e.handleBookSave(t)},className:"btn btn-info list-button",children:"Save to My Saved Books"})]})]},t.id)}))})]})})};function g(e){return Object(x.jsxs)("div",{className:"jumbotron",children:[Object(x.jsx)("img",{className:"jumbotron-image",alt:e.heading,src:e.jumboImage}),Object(x.jsx)("h2",{className:"jumbotron-heading",children:e.heading}),Object(x.jsxs)("p",{className:"jumbotron-subheading",children:["By ",e.author]})]})}var N=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={result:{},search:"",results:[],image:""},e.searchBooks=function(t){m(t).then((function(t){e.setState({results:t.data.items}),e.setState({result:t.data.items[0].volumeInfo}),e.setState({image:t.data.items[0].volumeInfo.imageLinks.thumbnail}),e.setState({search:""})})).catch((function(e){return console.log(e)}))},e.handleInputChange=function(t){var s=t.target.value,a=t.target.name;e.setState(Object(r.a)({},a,s))},e.handleFormSubmit=function(t){t.preventDefault(),e.searchBooks(e.state.search)},e.handleBookSave=function(e){O({title:e.volumeInfo.title,authors:e.volumeInfo.authors.join(", "),description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.smallThumbnail,link:e.volumeInfo.infoLink}).catch((function(e){return console.log(e)}))},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.searchBooks("Harry Potter")}},{key:"render",value:function(){var e=this.state.results,t=this.state.image;return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(f,{heading:"Search for a Book",children:Object(x.jsx)(p,{value:this.state.search,handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit})}),Object(x.jsx)(g,{heading:this.state.result.title,jumboImage:t,author:this.state.result.authors}),Object(x.jsx)(k,{searchResults:e,handleBookSave:this.handleBookSave})]})}}]),s}(a.Component),I=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={books:[]},e.handleButtonClick=function(t){v(t).then(e.bookApi())},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.bookApi()}},{key:"bookApi",value:function(){var e=this;u.a.get("/api/books").then((function(t){return e.setState({books:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state.books;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"table-div",children:Object(x.jsxs)("table",{className:"table",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",className:"hide",children:"Cover"}),Object(x.jsx)("th",{scope:"col",className:"hide",children:"Title"}),Object(x.jsx)("th",{scope:"col",className:"hide",children:"Author(s)"}),Object(x.jsx)("th",{scope:"col",className:"hide",children:"Description"}),Object(x.jsx)("th",{scope:"col",className:"hide"})]})}),Object(x.jsx)("tbody",{children:t.map((function(t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsx)("img",{className:"cover",src:t.image,alt:t.title})}),Object(x.jsx)("td",{className:"hide td",children:t.title}),Object(x.jsx)("td",{className:"hide td",children:t.authors}),Object(x.jsx)("td",{className:"description hide td",children:Object(x.jsx)("div",{className:"tableData",children:t.description})}),Object(x.jsxs)("td",{className:"td",children:[Object(x.jsx)("a",{className:"btn btn-info list-button",href:t.link,target:"_blank",rel:"noopener noreferrer",children:"Google Books"}),Object(x.jsx)("button",{onClick:function(){return e.handleButtonClick(t._id)},className:"btn btn-primary list-button",children:"Remove"})]})]},t._id)}))})]})})})}}]),s}(a.Component),y=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(f,{heading:"Saved Books List"}),Object(x.jsx)(I,{})]})}}]),s}(a.Component);var S=function(){return Object(x.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark",children:[Object(x.jsx)("a",{className:"navbar-brand",href:"/",children:"Book Search"}),Object(x.jsx)("a",{className:"navbar-brand",href:"/reading-list",children:"My Saved Books"})]})};var B=function(){return Object(x.jsx)(o.a,{children:Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{}),Object(x.jsxs)(i.c,{children:[Object(x.jsx)(i.a,{exact:!0,path:["/","/books"],children:Object(x.jsx)(N,{})}),Object(x.jsx)(i.a,{exact:!0,path:"/reading-list",children:Object(x.jsx)(y,{})})]})]})})};c.a.render(Object(x.jsx)(B,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.c91c2f4b.chunk.js.map